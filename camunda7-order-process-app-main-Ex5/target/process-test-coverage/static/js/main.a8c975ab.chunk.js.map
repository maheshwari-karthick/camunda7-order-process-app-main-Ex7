{"version":3,"sources":["components/Viewer/BpmnViewer.tsx","theme.tsx","util/ArrayUtils.ts","util/ParsingUtils.ts","util/FileUtils.ts","components/Viewer/CoverageViewer.tsx","components/Util/Section.tsx","components/Util/Tooltip.tsx","components/Viewer/RunSummaryRow.tsx","components/Viewer/RunSummary.tsx","components/Viewer/ViewerContainer.tsx","components/App.tsx","index.tsx"],"names":["viewer","theme","createTheme","palette","primary","light","main","dark","contrastText","secondary","text","hint","disabled","divider","background","paper","default","typography","fontFamily","distinct","accessor","item","value","index","array","indexOf","find","getDistinctIds","events","type","filter","event","map","definitionKey","downloadFile","name","content","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","useStyles","makeStyles","root","height","overflow","modeler","highlight","fill","highlightSequenceFlow","stroke","strokeWidth","transactionBoundary","backgroundColor","borderRadius","minHeight","width","transactionBoundarySmall","executionListener","color","fontSize","padding","minWidth","textAlign","whiteSpace","getTransactionBoundaries","businessObject","loopCharacteristics","eventDefinitions","eventDefinitionType","length","$type","isWaitStateTask","isWaitStateEvent","isAsyncAfter","asyncAfter","isAsyncBefore","asyncBefore","before","after","BpmnViewer","props","classes","data","setListener","listener","useMemo","send","a","get","zoom","useEffect","Viewer","container","moddleExtensions","camunda","camundaModdleDescriptor","toggle","canvas","overlays","elementRegistry","importXML","xml","showCoverage","highlightFlowNodes","forEach","node","addMarker","highlightSequenceFlows","flow","$","addClass","elements","getAll","i","showTransactionBoundaries","transactionBoundaries","add","id","position","bottom","left","html","right","showExpressions","extensionElements","values","extensionElement","fields","toLowerCase","field","expression","conditionExpression","waypoints","y","top","$attrs","className","clsx","settings","settingsLabel","transition","transitions","create","opacity","sectionContainer","border","flexDirection","maxWidth","margin","sectionTitle","fontWeight","sectionTitleFlex","sectionTitleRight","flexGrow","viewerContainer","settingsSpacer","CoverageViewer","selectedModel","selectedRun","useState","undefined","setData","bpmnListener","setBpmnListener","setShowCoverage","setShowTransactionBoundaries","setShowExpressions","download","useCallback","key","coveredNodes","coveredSequenceFlows","FormControlLabel","label","control","Checkbox","size","checked","onChange","e","IconButton","title","onClick","ZoomIn","ZoomOut","CenterFocusStrong","CloudDownload","sectionContent","Section","children","tooltip","tooltipArrow","Tooltip","arrow","placement","summaryRow","cursor","paddingTop","paddingBottom","paddingLeft","summaryRowActive","summaryColumnName","summaryColumnCount","summaryColumnCoverage","separator","rowIcon","marginRight","spacingRow","summaryColumnNamePadding","coverageGreen","coverageYellow","coverageRed","spacingColumn","empty","playIcon","RunSummaryRow","model","selected","coverage","covered","coveredNodeCount","coveredSequenceFlowCount","icon","Code","PlaylistAddCheck","total","totalElementCount","React","toFixed","summaryTable","borderSpacing","summaryHead","paddingRight","summaryFoot","summaryColumnNamePadding1","summaryColumnNamePadding2","RunSummary","aria-hidden","selectedSuite","models","colSpan","Fragment","onModelSelected","runs","run","onRunSelected","marginBottom","subtitle","marginTop","borderBottom","selectorTitle","page","selector","flexWrap","flex","itemSelected","itemTitle","itemSubtitle","selectWrapper","select","ViewerContainer","selectedModelKey","setSelectedModelKey","selectedSuiteId","setSelectedSuiteId","selectedRunId","setSelectedRunId","parsedSuites","suites","window","COVERAGE_DATA","suite","parsedModels","flatMap","modelKey","m","Error","coveredFlows","startedNodes","endedNodes","ended","reduce","prev","cur","s","r","FormControl","variant","InputLabel","Select","labelId","MenuProps","target","MenuItem","substr","lastIndexOf","App","ThemeProvider","Theme","CssBaseline","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a8c975ab.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\nimport Viewer from \"bpmn-js/lib/NavigatedViewer\";\nimport clsx from \"clsx\";\nimport $ from \"jquery\";\nimport React, { useEffect, useMemo } from \"react\";\nimport camundaModdleDescriptor from \"camunda-bpmn-moddle/resources/camunda.json\";\nimport { ModdleElement } from \"bpmn-js/lib/model/Types\";\n\nexport interface BpmnViewerData {\n    highlightSequenceFlows: string[];\n    highlightFlowNodes: string[];\n    xml: string;\n}\n\nexport type BpmnViewerEvent = \"RESET_ZOOM\" | \"ZOOM_IN\" | \"ZOOM_OUT\";\nexport type BpmnViewerListener = { send: (event: BpmnViewerEvent) => void };\n\ninterface Props {\n    showTransactionBoundaries: boolean;\n    showCoverage: boolean;\n    showExpressions: boolean;\n    data?: BpmnViewerData;\n    className?: string;\n    setListener?: (listener: BpmnViewerListener) => void;\n}\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        height: \"640px\",\n        overflow: \"hidden\"\n    },\n    modeler: {\n        height: \"640px\"\n    },\n    highlight: {\n        \"&:not(.djs-connection) .djs-visual > :nth-child(1)\": {\n            fill: \"rgba(50, 205, 50, 0.50) !important\"\n        }\n    },\n    highlightSequenceFlow: {\n        stroke: \"rgba(20, 125, 20, 1) !important\",\n        strokeWidth: \"2px !important\"\n    },\n    transactionBoundary: {\n        backgroundColor: \"rgba(180, 21, 21, 0.7)\",\n        borderRadius: \"1px\",\n        minHeight: \"50px\",\n        width: \"4px\"\n    },\n    transactionBoundarySmall: {\n        backgroundColor: \"rgba(180, 21, 21, 0.7)\",\n        borderRadius: \"1px\",\n        minHeight: \"32px\",\n        width: \"4px\"\n    },\n    executionListener: {\n        backgroundColor: \"rgba(21, 66, 180, 0.7)\",\n        color: \"white\",\n        borderRadius: \"4px\",\n        fontFamily: \"Arial\",\n        fontSize: \"12px\",\n        padding: \"5px\",\n        minHeight: \"16px\",\n        minWidth: \"16px\",\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\n// @see\n// https://github.com/bpmn-io/camunda-transaction-boundaries/blob/master/lib/TransactionBoundaries.js#L63\nconst getTransactionBoundaries = (element: any): {\n    before: boolean;\n    after: boolean;\n} => {\n    const { businessObject, loopCharacteristics } = element;\n    const eventDefinitions = businessObject.eventDefinitions || [];\n    const eventDefinitionType = eventDefinitions.length && eventDefinitions[0].$type;\n\n    const isWaitStateTask = element.type === \"bpmn:ReceiveTask\"\n        || element.type === \"bpmn:UserTask\"\n        || (element.type === \"bpmn:ServiceTask\" && businessObject.type === \"external\");\n\n    // TODO: Parallel/Inclusive Gateway with multiple incoming sequence flows\n    const isWaitStateGateway = false;\n\n    const isWaitStateEvent = element.type === \"bpmn:IntermediateCatchEvent\" && (\n        eventDefinitionType === \"bpmn:MessageEventDefinition\"\n        || eventDefinitionType === \"bpmn:TimerEventDefinition\"\n        || eventDefinitionType === \"bpmn:SignalEventDefinition\"\n        || eventDefinitionType === \"bpmn:ConditionalEventDefinition\"\n    );\n\n    const isAsyncAfter = businessObject.asyncAfter\n        || (loopCharacteristics && loopCharacteristics.asyncAfter);\n\n    const isAsyncBefore = businessObject.asyncBefore\n        || (loopCharacteristics && loopCharacteristics.asyncBefore);\n\n    const boundariesBefore = isWaitStateTask\n        || isWaitStateEvent\n        || isWaitStateGateway\n        || isAsyncBefore;\n\n    return { before: !!boundariesBefore, after: !!isAsyncAfter };\n};\n\nlet viewer: Viewer | undefined;\n\nconst BpmnViewer: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    const { data, setListener } = props;\n    const listener: BpmnViewerListener = useMemo(() => ({\n        send: async (event: BpmnViewerEvent) => {\n            switch (event) {\n                case \"RESET_ZOOM\": {\n                    viewer?.get(\"canvas\").zoom(\"fit-viewport\", true);\n                    break;\n                }\n                case \"ZOOM_IN\": {\n                    viewer?.get(\"zoomScroll\").zoom(1);\n                    break;\n                }\n                case \"ZOOM_OUT\": {\n                    viewer?.get(\"zoomScroll\").zoom(-1);\n                    break;\n                }\n                default: {\n                    // Do nothing\n                }\n            }\n        }\n    }), []);\n\n    useEffect(() => {\n        setListener && setListener(listener);\n    }, [setListener, listener]);\n\n    useEffect(() => {\n        viewer = new Viewer({\n            container: \"#bpmn-canvas\",\n            moddleExtensions: {\n                camunda: camundaModdleDescriptor\n            }\n        });\n        viewer.get(\"zoomScroll\").toggle(false);\n    }, []);\n\n    useEffect(() => {\n        (async () => {\n            if (viewer && data) {\n                const canvas = viewer.get(\"canvas\");\n                const overlays = viewer.get(\"overlays\");\n                const elementRegistry = viewer.get(\"elementRegistry\");\n\n                await viewer.importXML(data.xml);\n\n                // zoom to fit full viewport\n                canvas.zoom(\"fit-viewport\", true);\n\n                if (props.showCoverage) {\n                    data.highlightFlowNodes?.forEach(node => {\n                        canvas.addMarker(node, classes.highlight);\n                    });\n\n                    data.highlightSequenceFlows?.forEach(flow => {\n                        $(`g[data-element-id='${flow}']`)\n                            .find(\"path\")\n                            .addClass(classes.highlightSequenceFlow);\n                    });\n                }\n\n                // visualizations\n                const elements = elementRegistry.getAll();\n                for (let i = 0; i < elements.length; i++) {\n                    const element = elements[i];\n                    if (element.type !== \"label\") {\n                        if (props.showTransactionBoundaries) {\n                            const transactionBoundaries = getTransactionBoundaries(element);\n                            if (transactionBoundaries.before) {\n                                overlays.add(element.id, \"note\", {\n                                    position: {\n                                        bottom: (element.type === \"bpmn:IntermediateCatchEvent\" ? 34 : 64),\n                                        left: (element.type === \"bpmn:IntermediateCatchEvent\" ? -3 : -5)\n                                    },\n                                    html: `<div class='${element.type === \"bpmn:IntermediateCatchEvent\" ? classes.transactionBoundarySmall : classes.transactionBoundary}' />`\n                                });\n                            }\n                            if (transactionBoundaries.after) {\n                                overlays.add(element.id, \"note\", {\n                                    position: {\n                                        bottom: 64,\n                                        right: -1\n                                    },\n                                    html: `<div class='${classes.transactionBoundary}' />`\n                                });\n                            }\n                        }\n\n                        if (props.showExpressions) {\n                            if (element.businessObject.extensionElements?.values) {\n                                const extensionElements: ModdleElement[] = element\n                                    .businessObject.extensionElements.values;\n                                extensionElements.forEach(extensionElement => {\n                                    const { $type, event, fields } = extensionElement;\n\n                                    const executionListener = \"camunda:executionListener\";\n                                    if ($type.toLowerCase() === executionListener.toLowerCase() && (event === \"end\" || event === \"start\") && fields) {\n                                        fields.forEach((field: { expression: any; }) => {\n                                            const position = {\n                                                bottom: 0,\n                                                [event === \"end\" ? \"right\" : \"left\"]: 0\n                                            };\n\n                                            const html = `<div class='${classes.executionListener}'>${field.expression}</div>`;\n\n                                            overlays.add(element.id, \"note\", { position, html });\n                                        });\n                                    }\n                                });\n                            }\n\n                            if (element.type === \"bpmn:SequenceFlow\"\n                                && element.businessObject.conditionExpression) {\n                                const position = {\n                                    left: 0\n                                } as {\n                                    left: number,\n                                    top: number | undefined,\n                                    bottom: number | undefined\n                                };\n                                if (element.waypoints[0].y\n                                    > element.waypoints[element.waypoints.length - 1].y) {\n                                    position.top = -29;\n                                } else {\n                                    position.bottom = -3;\n                                }\n                                overlays.add(element.id, \"note\", {\n                                    position: position,\n                                    html: `<div class='${classes.executionListener}'>${element.businessObject.conditionExpression.body}</div>`\n                                });\n                            }\n\n                            if (element.businessObject.$attrs[\"camunda:delegateExpression\"]) {\n                                overlays.add(element.id, \"note\", {\n                                    position: {\n                                        bottom: -3,\n                                        left: 0\n                                    },\n                                    html: `<div class='${classes.executionListener}'>${element.businessObject.$attrs[\"camunda:delegateExpression\"]}</div>`\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        })();\n    }, [data, classes, props.showCoverage, props.showExpressions, props.showTransactionBoundaries]);\n\n    return (\n        <div className={clsx(classes.root, props.className)}>\n            <div className={classes.modeler} id=\"bpmn-canvas\" />\n        </div>\n    );\n};\n\nexport default BpmnViewer;\n","import { createTheme } from \"@material-ui/core/styles\";\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            light: \"#32d35c\",\n            main: \"#26b44b\",\n            dark: \"#3d9a4c\",\n            contrastText: \"#fff\"\n        },\n        secondary: {\n            light: \"#455a64\",\n            main: \"#37474f\",\n            dark: \"#263238\",\n            contrastText: \"#fff\"\n        },\n        text: {\n            primary: \"rgba(0, 0, 0, 0.87)\",\n            secondary: \"rgba(0, 0, 0, 0.6)\",\n            hint: \"rgba(0, 0, 0, 0.38)\",\n            disabled: \"rgba(0, 0, 0, 0.38)\"\n        },\n        divider: \"rgba(34, 36, 38, 0.1)\",\n        background: {\n            paper: \"rgba(34, 36, 38, 0.1)\",\n            default: \"#FFFFFF\"\n        }\n    },\n    typography: {\n        fontFamily: \"Helvetica, Arial, sans-serif\"\n    }\n});\n\nexport default theme;\n","const distinct = <T>(accessor: (item: T) => unknown = item => item) => (\n    (value: T, index: number, array: T[]): boolean => (\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        array.indexOf(array.find(item => accessor(item) === accessor(value))!) === index\n    )\n);\n\nexport default distinct;\n","import {\n    CoveredNode,\n    Event,\n    EventType,\n    Model,\n    ParsedModel,\n    ParsedRun,\n    ParsedSuite,\n    Suite\n} from \"../api/api\";\nimport distinct from \"./ArrayUtils\";\n\nexport const getDistinctIds = (events: Event[], type: EventType): string[] => (\n    events\n        .filter(event => event.type === type)\n        .map(event => event.definitionKey)\n        .filter(distinct())\n);\n\nexport const parseSuites = (suites: Suite[], models: Model[]): ParsedSuite[] => (\n    suites.map(suite => {\n        const modelKeys = suite.runs\n            .flatMap(run => run.events)\n            .map(event => event.modelKey)\n            .filter(distinct());\n\n        const parsedModels: ParsedModel[] = modelKeys\n            .map(modelKey => {\n                const model = models.find(m => m.key === modelKey);\n\n                if (!model) {\n                    throw new Error(`Could not find required model with key ${modelKey}`);\n                }\n\n                const runs: ParsedRun[] = suite.runs.map(run => {\n                    const events = run.events.filter(event => event.modelKey === modelKey);\n                    const coveredFlows = getDistinctIds(events, \"TAKE\");\n                    const startedNodes = getDistinctIds(events, \"START\");\n                    const endedNodes = getDistinctIds(events, \"END\");\n                    const coveredNodes: CoveredNode[] = startedNodes.map(id => ({\n                        id: id,\n                        ended: endedNodes.indexOf(id) !== -1\n                    }));\n\n                    return {\n                        id: run.id,\n                        name: run.name,\n                        totalElementCount: model.totalElementCount,\n                        coveredNodes: coveredNodes,\n                        coveredNodeCount: coveredNodes.length,\n                        coveredSequenceFlows: coveredFlows,\n                        coveredSequenceFlowCount: coveredFlows.length,\n                        coverage: (coveredNodes.length + coveredFlows.length)\n                            / model.totalElementCount\n                    };\n                });\n\n                const coveredFlows = runs\n                    .flatMap(run => run.coveredSequenceFlows)\n                    .filter(distinct());\n                const coveredNodes = runs\n                    .flatMap(run => run.coveredNodes)\n                    .filter(distinct((item: CoveredNode) => item.id));\n\n                return {\n                    id: model.id,\n                    key: model.key,\n                    xml: model.xml,\n                    runs: runs,\n                    coveredSequenceFlows: coveredFlows,\n                    coveredSequenceFlowCount: coveredFlows.length,\n                    coveredNodes: coveredNodes,\n                    coveredNodeCount: coveredNodes.length,\n                    totalElementCount: model.totalElementCount,\n                    coverage: (coveredNodes.length + coveredFlows.length) / model.totalElementCount\n                };\n            });\n\n        const coveredFlows = parsedModels\n            .flatMap(run => run.coveredSequenceFlows)\n            .filter(distinct());\n        const coveredNodes = parsedModels\n            .flatMap(run => run.coveredNodes)\n            .filter(distinct((item: CoveredNode) => item.id));\n        const totalElementCount = parsedModels.reduce(\n            (prev, cur) => prev + cur.totalElementCount, 0\n        );\n\n        return {\n            id: suite.id,\n            name: suite.name,\n            models: parsedModels,\n            coveredSequenceFlows: coveredFlows,\n            coveredSequenceFlowCount: coveredFlows.length,\n            coveredNodes: coveredNodes,\n            coveredNodeCount: coveredNodes.length,\n            totalElementCount: totalElementCount,\n            coverage: (coveredNodes.length + coveredFlows.length) / totalElementCount\n        };\n    })\n);\n","export const downloadFile = (name: string, content: string): void => {\n    const element = document.createElement(\"a\");\n    element.setAttribute(\"href\", `data:text/plain;charset=utf-8,${encodeURIComponent(content)}`);\n    element.setAttribute(\"download\", name);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n};\n\nexport default {\n    downloadFile\n};\n","import { Checkbox, FormControlLabel, IconButton, Theme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CenterFocusStrong, CloudDownload, ZoomIn, ZoomOut } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { ParsedModel, ParsedRun } from \"../../api/api\";\nimport { downloadFile } from \"../../util/FileUtils\";\nimport BpmnViewer, { BpmnViewerData, BpmnViewerListener } from \"./BpmnViewer\";\n\ninterface Props {\n    selectedModel: ParsedModel | undefined;\n    selectedRun: ParsedRun | undefined;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    settings: {\n        zoom: 0.85,\n        padding: \"0.5rem 0.5rem 0rem 1rem\",\n        display: \"flex\"\n    },\n    settingsLabel: {\n        transition: theme.transitions.create(\"opacity\"),\n        opacity: 0.38,\n        \"&:hover\": {\n            opacity: 0.87\n        }\n    },\n    sectionContainer: {\n        border: \"2px solid rgba(34, 36, 38, 0.1)\",\n        backgroundColor: \"rgba(255, 255, 255, 0.54)\",\n        borderRadius: \"4px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"960px\",\n        width: \"100%\",\n        margin: \"2rem auto 0rem auto\"\n    },\n    sectionTitle: {\n        height: \"36px\",\n        padding: \"0.5rem\",\n        backgroundColor: \"rgba(34, 36, 38, 0.1)\",\n        display: \"block\",\n        width: \"100%\",\n        fontWeight: 500\n    },\n    sectionTitleFlex: {\n        display: \"flex\"\n    },\n    sectionTitleRight: {\n        flexGrow: 1,\n        textAlign: \"right\",\n        color: theme.palette.text.hint\n    },\n    viewer: {\n        height: \"640px\",\n        width: \"100%\"\n    },\n    viewerContainer: {\n        position: \"relative\",\n        height: \"640px\",\n        \"&>div\": {\n            position: \"absolute\"\n        }\n    },\n    settingsSpacer: {\n        flexGrow: 1\n    }\n}));\n\nconst CoverageViewer: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    const { selectedModel, selectedRun } = props;\n\n    const [data, setData] = useState<BpmnViewerData | undefined>(undefined);\n    const [bpmnListener, setBpmnListener] = useState<BpmnViewerListener | undefined>(undefined);\n\n    const [showCoverage, setShowCoverage] = useState(true);\n    const [showTransactionBoundaries, setShowTransactionBoundaries] = useState(false);\n    const [showExpressions, setShowExpressions] = useState(false);\n\n    const download = useCallback(() => {\n        if (selectedModel) {\n            downloadFile(`${selectedModel.key}.bpmn`, selectedModel.xml);\n        }\n    }, [selectedModel]);\n\n    useEffect(() => {\n        if (selectedRun && selectedModel) {\n            setData({\n                xml: selectedModel.xml,\n                highlightFlowNodes: selectedRun.coveredNodes.map(node => node.id),\n                highlightSequenceFlows: selectedRun.coveredSequenceFlows\n            });\n        } else if (selectedModel) {\n            setData({\n                xml: selectedModel.xml,\n                highlightFlowNodes: selectedModel.coveredNodes.map(node => node.id),\n                highlightSequenceFlows: selectedModel.coveredSequenceFlows\n            });\n        } else {\n            setData(undefined);\n        }\n    }, [selectedModel, selectedRun]);\n\n    if (!selectedModel) {\n        return null;\n    }\n\n    return (\n        <>\n            <div className={classes.sectionContainer}>\n                <div className={classes.sectionTitle}>\n                    <span>Model Viewer</span>\n                </div>\n                <div className={classes.settings}>\n\n                    <FormControlLabel\n                        label=\"Show Coverage\"\n                        className={classes.settingsLabel}\n                        control={(\n                            <Checkbox\n                                size=\"small\"\n                                color=\"primary\"\n                                checked={showCoverage}\n                                onChange={(e, checked) => setShowCoverage(checked)}\n                                name=\"ShowCoverage\" />\n                        )} />\n\n                    <FormControlLabel\n                        label=\"Show Transaction Boundaries\"\n                        className={classes.settingsLabel}\n                        control={(\n                            <Checkbox\n                                size=\"small\"\n                                color=\"primary\"\n                                checked={showTransactionBoundaries}\n                                onChange={(e, checked) => setShowTransactionBoundaries(checked)}\n                                name=\"ShowTransactionBoundaries\" />\n                        )} />\n\n                    <FormControlLabel\n                        label=\"Show Expressions\"\n                        className={classes.settingsLabel}\n                        control={(\n                            <Checkbox\n                                size=\"small\"\n                                color=\"primary\"\n                                checked={showExpressions}\n                                onChange={(e, checked) => setShowExpressions(checked)}\n                                name=\"ShowExpressions\" />\n                        )} />\n\n                    <div className={classes.settingsSpacer} />\n\n                    <IconButton\n                        title=\"Zoom In\"\n                        onClick={() => bpmnListener?.send(\"ZOOM_IN\")}>\n                        <ZoomIn />\n                    </IconButton>\n\n                    <IconButton\n                        title=\"Zoom Out\"\n                        onClick={() => bpmnListener?.send(\"ZOOM_OUT\")}>\n                        <ZoomOut />\n                    </IconButton>\n\n                    <IconButton\n                        title=\"Reset Zoom\"\n                        onClick={() => bpmnListener?.send(\"RESET_ZOOM\")}>\n                        <CenterFocusStrong />\n                    </IconButton>\n\n                    <IconButton\n                        disabled={!selectedModel}\n                        title=\"Download BPMN\"\n                        onClick={download}>\n                        <CloudDownload />\n                    </IconButton>\n\n                </div>\n\n                <div className={classes.viewerContainer}>\n                    <BpmnViewer\n                        className={classes.viewer}\n                        showCoverage={showCoverage}\n                        showExpressions={showExpressions}\n                        showTransactionBoundaries={showTransactionBoundaries}\n                        setListener={setBpmnListener}\n                        data={data} />\n                </div>\n\n            </div>\n        </>\n    );\n};\n\nexport default CoverageViewer;\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\ninterface Props {\n    title: string;\n}\n\nconst useStyles = makeStyles(() => ({\n    sectionContainer: {\n        border: \"2px solid rgba(34, 36, 38, 0.1)\",\n        backgroundColor: \"rgba(255, 255, 255, 0.54)\",\n        borderRadius: \"4px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"960px\",\n        width: \"100%\",\n        margin: \"1rem auto 0rem auto\"\n    },\n    sectionTitle: {\n        height: \"36px\",\n        padding: \"0.5rem\",\n        backgroundColor: \"rgba(34, 36, 38, 0.1)\",\n        display: \"block\",\n        width: \"100%\",\n        fontWeight: 500\n    },\n    sectionContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"1rem\"\n    }\n}));\n\nconst Section: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.sectionContainer}>\n\n            <span className={classes.sectionTitle}>\n                {props.title}\n            </span>\n\n            <div className={classes.sectionContent}>\n                {props.children}\n            </div>\n\n        </div>\n    );\n};\n\nexport default Section;\n","import { Tooltip as MaterialTooltip } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\ndeclare type Placement =\n    | \"bottom-end\"\n    | \"bottom-start\"\n    | \"bottom\"\n    | \"left-end\"\n    | \"left-start\"\n    | \"left\"\n    | \"right-end\"\n    | \"right-start\"\n    | \"right\"\n    | \"top-end\"\n    | \"top-start\"\n    | \"top\";\n\ninterface Props {\n    title: string;\n    placement?: Placement;\n}\n\nconst useStyles = makeStyles(() => ({\n    tooltip: {\n        fontSize: \"0.85rem\",\n        backgroundColor: \"rgba(0, 0, 0, 0.87)\"\n    },\n    tooltipArrow: {\n        color: \"rgba(0, 0, 0, 0.87)\"\n    },\n}));\n\nconst Tooltip: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    return (\n        <MaterialTooltip\n            title={props.title}\n            arrow\n            placement={props.placement || \"top\"}\n            classes={{\n                arrow: classes.tooltipArrow,\n                tooltip: classes.tooltip\n            }}>\n            <span>{props.children}</span>\n        </MaterialTooltip>\n    );\n};\n\nexport default Tooltip;\n","import { Theme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Code, PlaylistAddCheck } from \"@material-ui/icons\";\nimport clsx from \"clsx\";\nimport React from \"react\";\nimport { ParsedModel, ParsedRun } from \"../../api/api\";\n\ninterface Props {\n    selected: boolean;\n    type: \"model\" | \"run\";\n    model: ParsedModel | ParsedRun;\n    onClick: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    summaryRow: {\n        cursor: \"pointer\",\n        transition: theme.transitions.create(\"background-color\"),\n        \"&:hover\": {\n            backgroundColor: \"rgba(34, 36, 38, 0.1)\"\n        },\n        \"&>td\": {\n            paddingTop: \"0.5rem\",\n            paddingBottom: \"0.5rem\"\n        },\n        \"&>td:first-child\": {\n            paddingLeft: \"1rem\"\n        }\n    },\n    summaryRowActive: {\n        backgroundColor: \"rgba(34, 36, 38, 0.15)\",\n        \"&>td\": {\n            fontWeight: 500\n        },\n        \"&:hover\": {\n            backgroundColor: \"rgba(34, 36, 38, 0.15)\"\n        }\n    },\n    summaryColumnName: {\n        textAlign: \"left\",\n        display: \"flex\"\n    },\n    summaryColumnCount: {\n        textAlign: \"right\"\n    },\n    summaryColumnCoverage: {\n        textAlign: \"right\",\n        width: \"1%\",\n        paddingLeft: \"1rem\"\n    },\n    separator: {\n        margin: \"0 0.25rem\"\n    },\n    rowIcon: {\n        marginRight: \"0.5rem\"\n    },\n    spacingRow: {\n        \"&>td\": {\n            padding: \"0.25rem\"\n        }\n    },\n    summaryColumnNamePadding: {\n        paddingLeft: \"2.75rem !important\"\n    },\n    coverageGreen: {\n        backgroundColor: \"rgba(0, 255, 0, 0.38)\"\n    },\n    coverageYellow: {\n        backgroundColor: \"rgba(255, 255, 0, 0.38)\"\n    },\n    coverageRed: {\n        backgroundColor: \"rgba(255, 0, 0, 0.38)\"\n    },\n    spacingColumn: {\n        width: \"3rem\"\n    },\n    empty: {\n        padding: \"1rem\",\n        textAlign: \"center\",\n        fontWeight: \"bold\"\n    },\n    playIcon: {\n        color: theme.palette.primary.main\n    }\n}));\n\nconst RunSummaryRow: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    const { type, model, onClick, selected } = props;\n\n    const data = {\n        coverage: model.coverage,\n        covered: model.coveredNodeCount + model.coveredSequenceFlowCount,\n        icon: type === \"model\" ? Code : PlaylistAddCheck,\n        name: type === \"model\" ? (model as ParsedModel).key : (model as ParsedRun).name,\n        total: model.totalElementCount\n    };\n\n    return (\n        <tr\n            onClick={onClick}\n            className={clsx(\n                classes.summaryRow,\n                selected && classes.summaryRowActive\n            )}>\n            <td className={clsx(\n                classes.summaryColumnName,\n                type === \"run\" && classes.summaryColumnNamePadding,\n            )}>\n                {React.createElement(data.icon, {\n                    className: classes.rowIcon,\n                    fontSize: \"small\"\n                })}\n                {data.name}\n            </td>\n            <td className={classes.summaryColumnCount}>{data.covered}</td>\n            <td className={classes.summaryColumnCount}>{data.total}</td>\n            <td className={classes.spacingColumn} />\n            <td className={clsx(classes.summaryColumnCoverage, {\n                [classes.coverageGreen]: data.coverage >= 0.9,\n                [classes.coverageYellow]: data.coverage < 0.9 && data.coverage >= 0.5,\n                [classes.coverageRed]: data.coverage < 0.5\n            })}>\n                {`${(data.coverage * 100).toFixed(2)}%`}\n            </td>\n        </tr>\n    );\n};\n\nexport default RunSummaryRow;\n","import { Theme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { ParsedModel, ParsedRun, ParsedSuite } from \"../../api/api\";\nimport Section from \"../Util/Section\";\nimport Tooltip from \"../Util/Tooltip\";\nimport RunSummaryRow from \"./RunSummaryRow\";\n\ninterface Props {\n    selectedSuite: ParsedSuite;\n    selectedModel: ParsedModel | undefined;\n    selectedRun: ParsedRun | undefined;\n    onModelSelected: (model: ParsedModel) => void;\n    onRunSelected: (run: ParsedRun) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    summaryTable: {\n        borderSpacing: \"0px !important\"\n    },\n    summaryHead: {\n        backgroundColor: \"rgba(34, 36, 38, 0.05)\",\n        \"&>th\": {\n            paddingTop: \"1rem\",\n            paddingBottom: \"1rem\"\n        },\n        \"&>th:first-child\": {\n            paddingLeft: \"1rem\"\n        },\n        \"&>th:last-child\": {\n            paddingRight: \"1rem\"\n        }\n    },\n    summaryRow: {\n        cursor: \"pointer\",\n        transition: theme.transitions.create(\"background-color\"),\n        \"&:hover\": {\n            backgroundColor: \"rgba(34, 36, 38, 0.1)\"\n        },\n        \"&>td\": {\n            paddingTop: \"0.5rem\",\n            paddingBottom: \"0.5rem\"\n        },\n        \"&>td:first-child\": {\n            paddingLeft: \"1rem\"\n        },\n        \"&>td:last-child\": {\n            paddingRight: \"1rem\"\n        }\n    },\n    summaryRowActive: {\n        backgroundColor: \"rgba(34, 36, 38, 0.15)\",\n        \"&>td\": {\n            fontWeight: 500\n        },\n        \"&:hover\": {\n            backgroundColor: \"rgba(34, 36, 38, 0.15)\"\n        }\n    },\n    summaryFoot: {\n        backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n        fontWeight: 500,\n        \"&>td\": {\n            paddingTop: \"1rem\",\n            paddingBottom: \"1rem\"\n        },\n        \"&>td:first-child\": {\n            paddingLeft: \"1rem\"\n        },\n        \"&>td:last-child\": {\n            paddingRight: \"1rem\"\n        }\n    },\n    summaryColumnCount: {\n        textAlign: \"right\"\n    },\n    summaryColumnCoverage: {\n        textAlign: \"right\",\n        width: \"1%\",\n        paddingLeft: \"1rem\"\n    },\n    separator: {\n        margin: \"0 0.25rem\"\n    },\n    rowIcon: {\n        marginRight: \"0.5rem\"\n    },\n    spacingRow: {\n        \"&>td\": {\n            padding: \"0.25rem\"\n        }\n    },\n    summaryColumnNamePadding1: {\n        paddingLeft: \"2.75rem !important\"\n    },\n    summaryColumnNamePadding2: {\n        paddingLeft: \"4.5rem !important\"\n    },\n    coverageGreen: {\n        backgroundColor: \"rgba(0, 255, 0, 0.38)\"\n    },\n    coverageYellow: {\n        backgroundColor: \"rgba(255, 255, 0, 0.38)\"\n    },\n    coverageRed: {\n        backgroundColor: \"rgba(255, 0, 0, 0.38)\"\n    },\n    spacingColumn: {\n        width: \"3rem\"\n    },\n    empty: {\n        padding: \"1rem\",\n        textAlign: \"center\",\n        fontWeight: \"bold\"\n    }\n}));\n\nconst RunSummary: React.FC<Props> = props => {\n    const classes = useStyles();\n\n    return (\n        <Section title=\"Build Summary\">\n            <table className={classes.summaryTable}>\n\n                <thead>\n                    <tr className={classes.summaryHead}>\n                        <th aria-hidden />\n                        <th className={classes.summaryColumnCount}>\n                            <Tooltip title=\"Covered Flow Nodes &amp; Sequence Flows\">\n                                <span>Covered</span>\n                            </Tooltip>\n                        </th>\n                        <th className={classes.summaryColumnCount}>\n                            <Tooltip title=\"Total Flow Nodes &amp; Sequence Flows\">\n                                <span>Total</span>\n                            </Tooltip>\n                        </th>\n                        <th className={classes.spacingColumn} aria-hidden />\n                        <th className={classes.summaryColumnCoverage}>Coverage</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n\n                    <tr className={classes.spacingRow} key=\"spacing1\">\n                        <td />\n                    </tr>\n\n                    {props.selectedSuite.models.length === 0 && (\n                        <tr>\n                            <td\n                                className={classes.empty}\n                                colSpan={99}>\n                                This suite contains no models.\n                            </td>\n                        </tr>\n                    )}\n\n                    {props.selectedSuite.models.map(model => (\n                        <React.Fragment key={model.key}>\n                            <RunSummaryRow\n                                type=\"model\"\n                                selected={props.selectedModel === model}\n                                key={model.key}\n                                model={model}\n                                onClick={() => props.onModelSelected(model)} />\n\n                            {props.selectedModel === model && model.runs.map(run => (\n                                <RunSummaryRow\n                                    type=\"run\"\n                                    selected={props.selectedRun === run}\n                                    key={run.id}\n                                    model={run}\n                                    onClick={() => props.onRunSelected(run)} />\n                            ))}\n                        </React.Fragment>\n                    ))}\n\n                    <tr className={classes.spacingRow} key=\"spacing2\">\n                        <td />\n                    </tr>\n                </tbody>\n            </table>\n        </Section>\n    );\n};\n\nexport default RunSummary;\n","import { FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { parseSuites } from \"../../util/ParsingUtils\";\nimport CoverageViewer from \"./CoverageViewer\";\nimport RunSummary from \"./RunSummary\";\n\nconst useStyles = makeStyles(() => ({\n    title: {\n        fontSize: \"2rem\",\n        marginBottom: 0\n    },\n    subtitle: {\n        marginTop: \"0.25rem\",\n        paddingBottom: \"0.5rem\",\n        marginBottom: \"1.5rem\",\n        borderBottom: \"2px solid #666\"\n    },\n    selectorTitle: {\n        fontWeight: \"bold\",\n        fontSize: \"1rem\",\n        marginTop: \"0.5rem\"\n    },\n    page: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"960px\",\n        maxWidth: \"960px\",\n        margin: \"2rem auto 1rem auto\"\n    },\n    selector: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        padding: \"0.5rem 0\",\n        flexDirection: \"row\"\n    },\n    item: {\n        flex: \"0 0 calc((100% - 2.25rem)/4)\",\n        marginBottom: \"0.75rem\",\n        marginRight: \"0.75rem\",\n        borderRadius: \"0.25rem\",\n        color: \"black\",\n        border: \"2px solid darkgreen\",\n        display: \"flex\",\n        padding: \"0.5rem\",\n        flexDirection: \"column\",\n        cursor: \"pointer\",\n        \"&>span\": {\n            whiteSpace: \"nowrap\"\n        },\n        \"&:nth-child(4n)\": {\n            marginRight: 0\n        }\n    },\n    itemSelected: {\n        backgroundColor: \"darkgreen\",\n        color: \"white\"\n    },\n    itemTitle: {\n        fontWeight: \"bold\",\n        marginBottom: \"0.25rem\"\n    },\n    itemSubtitle: {\n        fontSize: \"0.75rem\"\n    },\n    selectWrapper: {\n        display: \"flex\",\n        marginTop: \"0.5rem\",\n        marginBottom: \"2rem\"\n    },\n    select: {\n        width: \"calc((100% - 1rem) / 3)\",\n        marginRight: \"0.5rem\",\n        \"&:last-child\": {\n            marginRight: 0\n        }\n    },\n    hint: {\n        fontSize: \"1.5rem\",\n        textAlign: \"center\",\n        marginTop: \"1rem\",\n        marginBottom: \"1rem\",\n        fontWeight: \"bold\"\n    },\n    paper: {\n        backgroundColor: \"white\"\n    }\n}));\n\nconst ViewerContainer: React.FC = () => {\n    const classes = useStyles();\n\n    const [selectedModelKey, setSelectedModelKey] = useState<string | undefined>(undefined);\n    const [selectedSuiteId, setSelectedSuiteId] = useState<string | undefined>(undefined);\n    const [selectedRunId, setSelectedRunId] = useState<string | undefined>(undefined);\n\n    const parsedSuites = useMemo(\n        () => parseSuites(window.COVERAGE_DATA.suites, window.COVERAGE_DATA.models),\n        [window.COVERAGE_DATA]\n    );\n\n    const selectedSuite = useMemo(\n        () => parsedSuites.find(s => s.id === selectedSuiteId),\n        [parsedSuites, selectedSuiteId]\n    );\n\n    const selectedModel = useMemo(\n        () => selectedSuite?.models.find(m => m.key === selectedModelKey),\n        [selectedSuite, selectedModelKey]\n    );\n\n    const selectedRun = useMemo(\n        () => selectedModel?.runs.find(r => r.id === selectedRunId),\n        [selectedModel, selectedRunId]\n    );\n\n    // Reset model and run id on suite changed\n    useEffect(() => {\n        setSelectedModelKey(undefined);\n        setSelectedRunId(undefined);\n    }, [selectedSuiteId]);\n\n    // Reset run id on model changed\n    useEffect(() => {\n        setSelectedRunId(undefined);\n    }, [selectedModelKey]);\n\n    return (\n        <div className={classes.page}>\n\n            <h1 className={classes.title}>Test Coverage Report</h1>\n\n            <span className={classes.subtitle}>\n                {`${window.COVERAGE_DATA.suites.length} Suites, ${window.COVERAGE_DATA.models.length} Models processed.`}\n            </span>\n\n            {selectedSuite && (\n                <div className={classes.selectWrapper}>\n                    <FormControl\n                        className={classes.select}\n                        size=\"small\"\n                        color=\"primary\"\n                        variant=\"outlined\">\n\n                        <InputLabel id=\"test-suite\">\n                            Test Suite\n                        </InputLabel>\n\n                        <Select\n                            label=\"Test Suite\"\n                            value={selectedSuiteId}\n                            labelId=\"test-suite\"\n                            MenuProps={{ classes: { paper: classes.paper } }}\n                            onChange={e => setSelectedSuiteId(e.target.value as string)}>\n\n                            {parsedSuites.map(suite => (\n                                <MenuItem\n                                    key={suite.id}\n                                    value={suite.id}>\n                                    {suite.name.substr(suite.name.lastIndexOf(\".\") + 1)}\n                                </MenuItem>\n                            ))}\n\n                        </Select>\n                    </FormControl>\n\n                    {selectedModel && (\n                        <>\n\n                            <FormControl\n                                className={classes.select}\n                                size=\"small\"\n                                color=\"primary\"\n                                variant=\"outlined\">\n\n                                <InputLabel id=\"model\">\n                                    Model\n                                </InputLabel>\n\n                                <Select\n                                    label=\"Model\"\n                                    value={selectedModelKey}\n                                    labelId=\"model\"\n                                    MenuProps={{ classes: { paper: classes.paper } }}\n                                    onChange={e => setSelectedModelKey(e.target.value as string)}>\n\n                                    {selectedSuite.models.map(model => (\n                                        <MenuItem\n                                            key={model.key}\n                                            value={model.key}>\n                                            {model.key}\n                                        </MenuItem>\n                                    ))}\n\n                                </Select>\n                            </FormControl>\n\n                            <FormControl\n                                className={classes.select}\n                                size=\"small\"\n                                color=\"primary\"\n                                variant=\"outlined\">\n\n                                <InputLabel id=\"run\">\n                                    Run\n                                </InputLabel>\n\n                                <Select\n                                    label=\"Run\"\n                                    value={selectedRunId === undefined ? \"\" : selectedRunId}\n                                    labelId=\"run\"\n                                    MenuProps={{ classes: { paper: classes.paper } }}\n                                    onChange={e => setSelectedRunId(e.target.value === \"\" ? undefined : e.target.value as string)}>\n\n                                    <MenuItem value=\"\"><em>None</em></MenuItem>\n                                    {selectedModel.runs.map(run => (\n                                        <MenuItem\n                                            key={run.id}\n                                            value={run.id}>\n                                            {run.name}\n                                        </MenuItem>\n                                    ))}\n\n                                </Select>\n                            </FormControl>\n                        </>\n                    )}\n                </div>\n            )}\n\n            {!selectedSuite && (\n                <>\n                    <div className={classes.selector}>\n                        {parsedSuites.map(suite => (\n                            <div\n                                onClick={() => setSelectedSuiteId(suite.id)}\n                                key={suite.id}\n                                className={clsx(\n                                    classes.item,\n                                    selectedSuiteId === suite.id && classes.itemSelected\n                                )}>\n                                <span className={classes.itemTitle}>\n                                    {suite.name.substr(suite.name.lastIndexOf(\".\") + 1)}\n                                </span>\n                                <span className={classes.itemSubtitle}>\n                                    {`${(suite.coverage * 100).toFixed(2)}% Coverage`}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                    <div className={classes.hint}>\n                        Please select a test suite to see details.\n                    </div>\n                </>\n            )}\n\n            {selectedSuite && !selectedModel && (\n                <>\n                    <div className={classes.selector}>\n                        {selectedSuite.models.map(model => (\n                            <div\n                                onClick={() => setSelectedModelKey(model.key)}\n                                key={model.key}\n                                className={clsx(\n                                    classes.item,\n                                    selectedModelKey === model.key && classes.itemSelected\n                                )}>\n                                <span className={classes.itemTitle}>\n                                    {model.key}\n                                </span>\n                                <span className={classes.itemSubtitle}>\n                                    {`Coverage: ${(model.coverage * 100).toFixed(2)}%`}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                    <div className={classes.hint}>\n                        Please select a model to see details.\n                    </div>\n                </>\n            )}\n\n            {selectedSuite && selectedModel && !selectedRun && (\n                <>\n                    <div className={classes.selectorTitle}>\n                        Select a run to see details for that run.\n                    </div>\n                    <div className={classes.selector}>\n                        {selectedModel.runs.map(run => (\n                            <div\n                                onClick={() => setSelectedRunId(run.id)}\n                                key={run.id}\n                                className={clsx(\n                                    classes.item,\n                                    selectedRunId === run.id && classes.itemSelected\n                                )}>\n                                <span className={classes.itemTitle}>\n                                    {run.name}\n                                </span>\n                                <span className={classes.itemSubtitle}>\n                                    {`Coverage: ${(run.coverage * 100).toFixed(2)}%`}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )}\n\n            {selectedSuite && selectedModel && (\n                <CoverageViewer\n                    selectedModel={selectedModel}\n                    selectedRun={selectedRun} />\n            )}\n\n            {selectedSuite && (\n                <RunSummary\n                    selectedSuite={selectedSuite}\n                    selectedModel={selectedModel}\n                    selectedRun={selectedRun}\n                    onModelSelected={model => setSelectedModelKey(model.key)}\n                    onRunSelected={run => setSelectedRunId(run.id)} />\n            )}\n        </div>\n    );\n};\n\nexport default ViewerContainer;\n","import { CssBaseline } from \"@material-ui/core\";\nimport { makeStyles, ThemeProvider } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport Theme from \"../theme\";\nimport ViewerContainer from \"./Viewer/ViewerContainer\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        minHeight: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}));\n\nconst App: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <ThemeProvider theme={Theme}>\n\n            <div className={classes.root}>\n\n                <CssBaseline />\n\n                <ViewerContainer />\n\n            </div>\n\n        </ThemeProvider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}